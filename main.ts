scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    game.over(false)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    fantasma.setImage(img`
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . f f f f . . . . . . . . . . 
        . . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
        . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
        . . . . . f f f c 1 1 1 1 1 1 1 f . . . . . . . 
        . . . f c 1 1 1 c d 1 1 1 1 1 1 1 f . . . . . . 
        . . . f 1 b 1 b 1 b 1 1 1 1 d d d f . . . . . . 
        . . . f b f b f f c f 1 1 f c d d f . . . . . . 
        . . . . . . f c f 1 1 1 1 1 1 b b f . . . . . . 
        . . . . . . . c c b d b 1 b 1 f c f . . . . . . 
        . . . . . . . f f f b f b f d f f . . . . . . . 
        . . . . . . . . f f f f f f f f . . . . . . . . 
        . . . . . . . . f f f f f f f f f f f . . . . . 
        . . . . . . . . . f f f f f c 1 1 1 c f . . . . 
        . . . . . . . . . f f f f f 1 b 1 b 1 f . . . . 
        . . . . . . . . . . f f f f b f b f b f . . . . 
        . . . . . . . . . . . f f f f . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Enemy, myTiles.tile2, function (sprite, location) {
    espadera.destroy()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile4, function (sprite, location) {
    game.over(true)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSprite(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . 7 7 7 7 7 . . . . . . 
        . . . . . 7 7 f 7 7 . . . . . . 
        . . . . . 7 f f f 7 . . . . . . 
        . . . . . 7 7 f 7 7 . . . . . . 
        . . . . . 7 7 7 7 7 . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, fantasma, 50, 50)
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    fantasma.setImage(img`
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . f f f f f . . . . . . . . . . 
        . . . . . . . . f 1 1 1 1 1 f f . . . . . . . . 
        . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
        . . . . . . . f 1 1 1 1 1 1 1 d b f . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 d d d f . . . . . . 
        . . . . . . f d 1 1 1 1 1 d d d d f . . . . . . 
        . . . . . . f d 1 1 d d d d d d d f . . . . . . 
        . . . . . . f 1 1 1 d d d d d d d f . . . . . . 
        . . . . . . f 1 1 f c d d d d d d f . . . . . . 
        . . . . . f b 1 1 1 1 b d d d b f . . . . . . . 
        . . . . . f 1 b 1 b d f c f f f . . . . . . . . 
        . . . . . f b f b f f f f f f f f . . . . . . . 
        . . . . . . f f f f f f f f f f f . f f . . . . 
        . . . . . . . . . . . f f f f f f f f . . . . . 
        . . . . . . . . f 1 b 1 b f f f f f f . . . . . 
        . . . . . . . . f b f b f f f f f f . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        `)
})
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    fantasma.setImage(img`
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . f f f f . . . . . . . . . . 
        . . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
        . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
        . . . . . . . f 1 1 1 1 1 1 1 1 f . . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d d d 1 1 1 1 d d d f . . . . . . 
        . . . . . . f b d b f d d f b d b f . . . . . . 
        . . . . . . f c d c f 1 1 f c d c f . . . . . . 
        . . . . . f f f f 1 1 1 1 1 1 b f . . . . . . . 
        . . . . f c 1 1 1 c d b 1 b d f f f . . . . . . 
        . . . . f 1 b 1 b c b f b f c 1 1 1 c f . . . . 
        . . . . f b f b f b f f f f 1 b 1 b 1 f . . . . 
        . . . . . . . . . f f f f f f f b f b f . . . . 
        . . . . . . . . . . f f f f f . . . . . . . . . 
        . . . . . . . . . . . f f f . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        `)
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    fantasma.setImage(img`
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . f f f f . . . . . . . . . . 
        . . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
        . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
        . . . . . . . f 1 1 1 1 1 1 1 1 f . . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d d d 1 1 1 1 d d d f . . . . . . 
        . . . . . . f b d b f d d f b d b f . . . . . . 
        . . . . . . f c d c f 1 1 f c d c f . . . . . . 
        . . . . . f f f f 1 1 1 1 1 1 b f . . . . . . . 
        . . . . f c 1 1 1 c d b 1 b d f f f . . . . . . 
        . . . . f 1 b 1 b c b f b f c 1 1 1 c f . . . . 
        . . . . f b f b f b f f f f 1 b 1 b 1 f . . . . 
        . . . . . . . . . f f f f f f f b f b f . . . . 
        . . . . . . . . . . f f f f f . . . . . . . . . 
        . . . . . . . . . . . f f f . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Enemy, myTiles.tile3, function (sprite, location) {
    game.over(true)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    fantasma.setImage(img`
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . f f f f f . . . . . . . . . 
        . . . . . . . . f f 1 1 1 1 1 f . . . . . . . . 
        . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
        . . . . . . f b d 1 1 1 1 1 1 1 f . . . . . . . 
        . . . . . . f d d d 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d d d d 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d d d d d d d 1 1 d f . . . . . . 
        . . . . . . f d d d d d d d 1 1 1 f . . . . . . 
        . . . . . . f d d d d d d c f 1 1 f . . . . . . 
        . . . . . . . f b d d d b 1 1 1 1 b f . . . . . 
        . . . . . . . . f f f c f d b 1 b 1 f . . . . . 
        . . . . . . . f f f f f f f f b f b f . . . . . 
        . . . . f f . f f f f f f f f f f f . . . . . . 
        . . . . . f f f f f f f f . . . . . . . . . . . 
        . . . . . f f f f f f b 1 b 1 f . . . . . . . . 
        . . . . . . f f f f f f b f b f . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        `)
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    fantasma.setImage(img`
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . f f f f . . . . . . . . . . 
        . . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
        . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
        . . . . . . . f 1 1 1 1 1 1 1 1 f . . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 1 f . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
        . . . . . . f c d d 1 1 1 1 d d c f f . . . . . 
        . . . . . . . f b c f 1 1 f c b f b b f . . . . 
        . . . . . . . f f b d b 1 b d f f f f . . . . . 
        . . . . . . . . f c b f b f d f . . . . . . . . 
        . . . . . . . . f f f f f f f f . . . . . . . . 
        . . . . . . f f f f f f f f f f . . . . . . . . 
        . . . . . f c b 1 b c f f f f . . . . . . . . . 
        . . . . . . f f b f f . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . . . . . . . . . 
        `)
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Enemy, myTiles.tile1, function (sprite, location) {
    espadera.destroy()
})
let projectile: Sprite = null
let espadera: Sprite = null
let fantasma: Sprite = null
fantasma = sprites.create(img`
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . f f f f . . . . . . . . . . 
    . . . . . . . . f f 1 1 1 1 f f . . . . . . . . 
    . . . . . . . f b 1 1 1 1 1 1 b f . . . . . . . 
    . . . . . . . f 1 1 1 1 1 1 1 1 f . . . . . . . 
    . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
    . . . . . . f d 1 1 1 1 1 1 1 1 d f . . . . . . 
    . . . . . . f d d d 1 1 1 1 d d d f . . . . . . 
    . . . . . . f b d b f d d f b d b f . . . . . . 
    . . . . . . f c d c f 1 1 f c d c f . . . . . . 
    . . . . . f f f f 1 1 1 1 1 1 b f . . . . . . . 
    . . . . f c 1 1 1 c d b 1 b d f f f . . . . . . 
    . . . . f 1 b 1 b c b f b f c 1 1 1 c f . . . . 
    . . . . f b f b f b f f f f 1 b 1 b 1 f . . . . 
    . . . . . . . . . f f f f f f f b f b f . . . . 
    . . . . . . . . . . f f f f f . . . . . . . . . 
    . . . . . . . . . . . f f f . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
controller.moveSprite(fantasma)
fantasma.ay = 500
fantasma.setPosition(0, 134)
scene.setBackgroundColor(4)
scene.cameraFollowSprite(fantasma)
tiles.setTilemap(tiles.createTilemap(hex`3c001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000030303030303030000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000010101010000030303030303030000000000000000000000000000000000000000000000000000000000010202010102000000000001010101010101020202020000000000000000000000000001010102020101010000000000000000010101020201010101020202020202010101010202020202020202020202020101010101010101020201010102020202020202020102010202010201020202020202020202020202020202`, img`
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . 2 2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 
    . . . . . . . . . . . . 2 2 2 2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2 . . 2 2 . 
    . . . . . 2 2 2 2 2 2 2 . . . . . . . . . . . . . . . . . 2 2 2 . . 2 2 2 . . . . . . . . 2 2 2 . . 2 2 2 2 . . . . . . 
    2 2 2 2 . . . . . . . . . . . . 2 2 2 2 2 2 2 2 . . 2 2 2 . . . . . . . . 2 . 2 . . 2 . 2 . . . . . . . . . . . . . . . 
    `, [myTiles.tile0,sprites.builtin.brick,myTiles.tile1,myTiles.tile2,myTiles.tile4], TileScale.Sixteen))
espadera = sprites.create(img`
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . f f f . . . . . . . . . . . . . . 
    . . . . f f f f f 2 f . . . . . . . . . . . . . 
    . . f f e e e e e 2 2 f f . . . . . . . . . . . 
    . f f e e e e e e 2 2 2 f f . . . . . . . . . . 
    . f e e e e f f f e e e e f . . . . . . . . . . 
    . f f f f f e e e 2 2 2 2 e f . . . . . . . . . 
    f f f e 2 2 2 f f f f f e 2 f . . . . . . . . . 
    f f f f f f f f f e e e f f f . . . . . c c . . 
    f e f e 4 4 e b b f 4 4 e e f . . . c c d c . . 
    . f e e 4 d 4 b b f d d e f . . c c d d c c . . 
    . . f e e e 4 d d d d d f e e c d d d c . . . . 
    . . . f 2 2 2 2 2 2 2 e e d d c d c c . . . . . 
    . . . f 4 4 4 4 4 5 e 4 4 d d c c c . . . . . . 
    . . . f f f f f f f f e e e e . . . . . . . . . 
    . . . f f f . . . f f . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . . . . . . . . . 
    `, SpriteKind.Enemy)
espadera.follow(fantasma)
